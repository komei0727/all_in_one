# è²·ã„ç‰©ãƒ¢ãƒ¼ãƒ‰ç”»é¢

## æ¦‚è¦

è²·ã„ç‰©ä¸­ã®ç‰¹æ®Šãªåˆ©ç”¨ç’°å¢ƒã‚’è€ƒæ…®ã—ãŸå°‚ç”¨ç”»é¢ã€‚åœ¨åº«çŠ¶æ³ã‚’ç´ æ—©ãç¢ºèªã§ãã€ç¢ºèªæ¸ˆã¿é£Ÿæã‚’ãƒãƒ¼ã‚¯ã—ã¦åŠ¹ç‡çš„ãªè²·ã„ç‰©ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã€‚

## ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼

**As a** è²·ã„ç‰©ä¸­ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼  
**I want to** ã‚¹ãƒãƒ›ã§åœ¨åº«çŠ¶æ³ã‚’ç´ æ—©ãç¢ºèªã—ãŸã„  
**So that** å¿…è¦ãªé£Ÿæã‚’åŠ¹ç‡çš„ã«è³¼å…¥ã§ãã‚‹

## åˆ©ç”¨ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåˆ†æ

### è²·ã„ç‰©ä¸­ã®åˆ¶ç´„

- **ç‰‡æ‰‹æ“ä½œ**: ã‚«ãƒ¼ãƒˆã‚’æŠ¼ã—ãªãŒã‚‰ã®æ“ä½œ
- **çŸ­æ™‚é–“ç¢ºèª**: é€šè·¯ã§ç«‹ã¡æ­¢ã¾ã£ã¦ã®ç´ æ—©ã„ç¢ºèª
- **æ˜ã‚‹ã„ç’°å¢ƒ**: åº—å†…ç…§æ˜ä¸‹ã§ã®è¦–èªæ€§
- **é›†ä¸­åŠ›åˆ†æ•£**: ä»–ã®è²·ã„ç‰©å®¢ã¸ã®æ³¨æ„ã‚‚å¿…è¦

### å¿…è¦ãªæ©Ÿèƒ½

- **å¤§ããªã‚¿ãƒƒãƒã‚¿ãƒ¼ã‚²ãƒƒãƒˆ**: èª¤æ“ä½œé˜²æ­¢
- **æ˜ç¢ºãªè‰²åˆ†ã‘**: ç¬æ™‚ã®çŠ¶æ³æŠŠæ¡
- **ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹**: ã‚ˆãç¢ºèªã™ã‚‹é£Ÿæã®å„ªå…ˆè¡¨ç¤º
- **ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†**: è²·ã„ç‰©é–‹å§‹/çµ‚äº†ã®æ˜ç¢ºåŒ–

## UIè¦ä»¶

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹é€ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Shopping Header         â”‚
â”‚ ğŸ›’ è²·ã„ç‰©ãƒ¢ãƒ¼ãƒ‰ [çµ‚äº†]   â”‚
â”‚ â±ï¸ é–‹å§‹ã‹ã‚‰ 15åˆ†         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Quick Access           â”‚
â”‚ ã‚ˆãç¢ºèªã™ã‚‹é£Ÿæ         â”‚
â”‚ [ãƒˆãƒãƒˆğŸŸ¡] [ç‰›ä¹³ğŸ”´] [åµğŸŸ¢] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Category Tabs          â”‚
â”‚ [é‡èœ] [è‚‰é­š] [ä¹³è£½å“] [èª¿å‘³æ–™] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Ingredients List       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ãƒˆãƒãƒˆ         ğŸŸ¡   â”‚ â”‚
â”‚ â”‚ åœ¨åº«: 2å€‹ (ä¸è¶³)    â”‚ â”‚
â”‚ â”‚ æœŸé™: æ®‹ã‚Š3æ—¥   âœ“   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ãã‚…ã†ã‚Š       ğŸ”´   â”‚ â”‚
â”‚ â”‚ åœ¨åº«: ãªã—          â”‚ â”‚
â”‚ â”‚ æœŸé™: -         â—‹   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ã«ã‚“ã˜ã‚“       ğŸŸ¢   â”‚ â”‚
â”‚ â”‚ åœ¨åº«: 5æœ¬ (ååˆ†)    â”‚ â”‚
â”‚ â”‚ æœŸé™: æ®‹ã‚Š1é€±   âœ“   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Session Summary        â”‚
â”‚ ç¢ºèªæ¸ˆã¿: 3/8 é£Ÿæ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è©³ç´°ä»•æ§˜

#### 1. è²·ã„ç‰©ãƒ˜ãƒƒãƒ€ãƒ¼

- **ãƒ¢ãƒ¼ãƒ‰è¡¨ç¤º**: ã€ŒğŸ›’ è²·ã„ç‰©ãƒ¢ãƒ¼ãƒ‰ã€ã§ç¾åœ¨ã®çŠ¶æ…‹ã‚’æ˜ç¤º
- **çµ‚äº†ãƒœã‚¿ãƒ³**: å³ä¸Šã€å¤§ããªã‚¿ãƒƒãƒã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼ˆ44pxä»¥ä¸Šï¼‰
- **çµŒéæ™‚é–“**: ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹ã‹ã‚‰ã®æ™‚é–“è¡¨ç¤º
- **èƒŒæ™¯è‰²**: é€šå¸¸ç”»é¢ã¨åŒºåˆ¥ã™ã‚‹ãŸã‚è–„ã„ãƒ–ãƒ«ãƒ¼ç³»

#### 2. ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ã‚¨ãƒªã‚¢

```typescript
interface QuickAccessItem {
  ingredientId: string
  name: string
  stockStatus: 'IN_STOCK' | 'LOW_STOCK' | 'OUT_OF_STOCK'
  isChecked: boolean
  checkCount: number // ç¢ºèªé »åº¦
}

const quickAccessItems: QuickAccessItem[] = [
  {
    ingredientId: 'ing_tomato',
    name: 'ãƒˆãƒãƒˆ',
    stockStatus: 'LOW_STOCK',
    isChecked: true,
    checkCount: 15,
  },
]
```

**ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**:

- **æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«**: 3-4å€‹è¡¨ç¤ºã€ã‚¹ãƒ¯ã‚¤ãƒ—ã§è¿½åŠ è¡¨ç¤º
- **å¤§ããªãƒœã‚¿ãƒ³**: 80px Ã— 60px
- **çŠ¶æ…‹è‰²**: èƒŒæ™¯è‰²ã§åœ¨åº«çŠ¶æ³ã‚’è¡¨ç¾

#### 3. ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚¿ãƒ–

- **å¤§ããªã‚¿ãƒƒãƒã‚¿ãƒ¼ã‚²ãƒƒãƒˆ**: æœ€å°48pxé«˜ã•
- **ãƒãƒƒã‚¸è¡¨ç¤º**: å„ã‚«ãƒ†ã‚´ãƒªãƒ¼ã®æœªç¢ºèªé£Ÿææ•°
- **æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«**: å…¨ã‚«ãƒ†ã‚´ãƒªãƒ¼ãŒã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½

#### 4. é£Ÿæãƒªã‚¹ãƒˆ

```typescript
interface ShoppingIngredientItem {
  id: string
  name: string
  stockStatus: 'IN_STOCK' | 'LOW_STOCK' | 'OUT_OF_STOCK'
  expiryStatus?: 'FRESH' | 'EXPIRING_SOON' | 'EXPIRED'
  quantity: number
  unit: string
  daysUntilExpiry?: number
  isChecked: boolean
  checkedAt?: Date
}
```

**ã‚«ãƒ¼ãƒ‰ãƒ‡ã‚¶ã‚¤ãƒ³**:

- **é«˜ã•**: æœ€å°80pxï¼ˆã‚¿ãƒƒãƒã—ã‚„ã™ã„ã‚µã‚¤ã‚ºï¼‰
- **å·¦å´**: åœ¨åº«çŠ¶æ³ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ï¼ˆ20pxå¹…ã®è‰²å¸¯ï¼‰
- **ä¸­å¤®**: é£Ÿæåã¨è©³ç´°æƒ…å ±
- **å³å´**: ãƒã‚§ãƒƒã‚¯ãƒœã‚¿ãƒ³ï¼ˆ44px Ã— 44pxï¼‰

**çŠ¶æ…‹è¡¨ç¤º**:

```typescript
const shoppingStatusConfig = {
  OUT_OF_STOCK: {
    color: '#EF4444',
    bgColor: '#FEF2F2',
    text: 'åœ¨åº«ãªã—',
    priority: 1,
  },
  LOW_STOCK: {
    color: '#F59E0B',
    bgColor: '#FFFBEB',
    text: 'åœ¨åº«ä¸è¶³',
    priority: 2,
  },
  IN_STOCK: {
    color: '#10B981',
    bgColor: '#F0FDF4',
    text: 'åœ¨åº«ã‚ã‚Š',
    priority: 3,
  },
}
```

#### 5. ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚µãƒãƒªãƒ¼

- **ç¢ºèªé€²æ—**: ã€Œç¢ºèªæ¸ˆã¿: 3/8 é£Ÿæã€
- **ç¢ºèªç‡**: ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã§è¦–è¦šåŒ–
- **ã‚»ãƒƒã‚·ãƒ§ãƒ³æ™‚é–“**: ç¶™ç¶šæ™‚é–“ã®è¡¨ç¤º

### ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³è¨­è¨ˆ

#### ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½

- **ã‚¿ãƒƒãƒ—ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: ã‚«ãƒ¼ãƒ‰å…¨ä½“ã¾ãŸã¯ãƒã‚§ãƒƒã‚¯ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—
- **è¦–è¦šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**:
  - ãƒã‚§ãƒƒã‚¯æ™‚: âœ“ ãƒãƒ¼ã‚¯è¡¨ç¤º + èƒŒæ™¯è‰²å¤‰æ›´
  - ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³: ãƒã‚¦ãƒ³ã‚¹ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
- **éŸ³éŸ¿ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**: è»½ã„æŒ¯å‹•ï¼ˆhaptic feedbackï¼‰

#### çŠ¶æ…‹ç®¡ç†

```typescript
interface ShoppingSession {
  id: string
  userId: string
  status: 'ACTIVE' | 'COMPLETED'
  startedAt: Date
  checkedItems: CheckedItem[]
  deviceType?: string
  location?: {
    placeName?: string
  }
}

interface CheckedItem {
  ingredientId: string
  ingredientName: string
  stockStatus: string
  expiryStatus?: string
  checkedAt: Date
}
```

### APIä»•æ§˜

#### ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/v1/shopping/sessions`

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:

```json
{
  "deviceType": "mobile",
  "location": {
    "placeName": "ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒãƒ¼ã‚±ãƒƒãƒˆ ABC"
  }
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:

```json
{
  "data": {
    "sessionId": "ses_abc123",
    "status": "ACTIVE",
    "startedAt": "2025-06-28T14:30:00Z"
  }
}
```

#### ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¥é£Ÿæå–å¾—

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/v1/shopping/categories/{categoryId}/ingredients`

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:

```json
{
  "data": {
    "category": {
      "id": "cat_vegetable",
      "name": "é‡èœ"
    },
    "ingredients": [
      {
        "id": "ing_tomato",
        "name": "ãƒˆãƒãƒˆ",
        "stockStatus": "LOW_STOCK",
        "expiryStatus": "EXPIRING_SOON",
        "daysUntilExpiry": 3,
        "currentQuantity": {
          "amount": 2,
          "unit": { "symbol": "å€‹" }
        },
        "lastCheckedAt": null
      }
    ],
    "summary": {
      "totalItems": 5,
      "outOfStockCount": 1,
      "lowStockCount": 2,
      "expiringSoonCount": 1
    }
  }
}
```

#### é£Ÿæç¢ºèª

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/v1/shopping/sessions/{sessionId}/check/{ingredientId}`

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:

```json
{
  "stockStatus": "LOW_STOCK",
  "expiryStatus": "EXPIRING_SOON"
}
```

### é›¢è„±ãƒ»å¾©å¸°å¯¾å¿œ

#### ã‚»ãƒƒã‚·ãƒ§ãƒ³ç¶™ç¶š

- **ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å¯¾å¿œ**: ã‚¢ãƒ—ãƒªã‚’é–‰ã˜ã¦ã‚‚30åˆ†é–“ã‚»ãƒƒã‚·ãƒ§ãƒ³ç¶­æŒ
- **å¾©å¸°æ™‚**: ã‚»ãƒƒã‚·ãƒ§ãƒ³çŠ¶æ…‹ã®è‡ªå‹•å¾©å…ƒ
- **é€šçŸ¥**: é•·æ™‚é–“æœªæ“ä½œæ™‚ã®ç¢ºèªé€šçŸ¥

#### ãƒ‡ãƒ¼ã‚¿åŒæœŸ

```typescript
// ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ
const useShoppingSession = () => {
  const [session, setSession] = useState<ShoppingSession | null>(null)

  // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ã‚»ãƒƒã‚·ãƒ§ãƒ³çŠ¶æ…‹ã‚’ä¿å­˜
  useEffect(() => {
    if (session) {
      localStorage.setItem('shopping-session', JSON.stringify(session))
    }
  }, [session])

  // ã‚¢ãƒ—ãƒªèµ·å‹•æ™‚ã«ã‚»ãƒƒã‚·ãƒ§ãƒ³å¾©å…ƒ
  useEffect(() => {
    const saved = localStorage.getItem('shopping-session')
    if (saved) {
      const parsedSession = JSON.parse(saved)
      // 30åˆ†ä»¥å†…ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ã¿å¾©å…ƒ
      if (isSessionValid(parsedSession)) {
        setSession(parsedSession)
      }
    }
  }, [])
}
```

### ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ

#### Mobile (375px~)

- **ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹**: 3å€‹è¡¨ç¤º
- **é£Ÿæã‚«ãƒ¼ãƒ‰**: å…¨å¹…ä½¿ç”¨
- **ã‚¿ãƒƒãƒã‚¿ãƒ¼ã‚²ãƒƒãƒˆ**: æœ€å°44px

#### Large Mobile (414px~)

- **ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹**: 4å€‹è¡¨ç¤º
- **é£Ÿæã‚«ãƒ¼ãƒ‰**: ã‚ˆã‚Šè©³ç´°ãªæƒ…å ±è¡¨ç¤º

#### Tablet (768px~)

- **2ã‚«ãƒ©ãƒ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**: å·¦ã«ãƒªã‚¹ãƒˆã€å³ã«ã‚µãƒãƒªãƒ¼
- **ã‚ˆã‚Šå¤šãã®æƒ…å ±**: è³¼å…¥å±¥æ­´ã€ãŠã™ã™ã‚é£Ÿæãªã©

## PCç‰ˆè©³ç´°è¨­è¨ˆ

### åˆ©ç”¨ã‚·ãƒŠãƒªã‚ª

#### 1. äº‹å‰æº–å‚™ãƒ¢ãƒ¼ãƒ‰ï¼ˆè‡ªå®…ã®PCï¼‰

- è²·ã„ç‰©ãƒªã‚¹ãƒˆã®ä½œæˆ
- å¿…è¦ãªé£Ÿæã®ç¢ºèª
- è³¼å…¥äºˆç®—ã®è¨ˆç®—
- åº—èˆ—æƒ…å ±ã®ç¢ºèª

#### 2. åº—èˆ—å†…åˆ©ç”¨ï¼ˆã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒ»PCï¼‰

- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã®åœ¨åº«ç¢ºèª
- è³¼å…¥ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½
- ä¾¡æ ¼æ¯”è¼ƒãƒ»ãƒ¡ãƒ¢æ©Ÿèƒ½

### å…¨ä½“ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ (1200pxä»¥ä¸Š)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Top Bar                                â”‚
â”‚ [ğŸ¥— Food Manager] [ğŸ›’ Shopping Mode] [Timer: 15:32] [çµ‚äº†]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Nav â”‚                Shopping Dashboard              â”‚ Cart  â”‚
â”‚     â”‚                                                â”‚ Panel â”‚
â”‚ [ğŸ“Š]â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚       â”‚
â”‚ [ğŸ¥—]â”‚ â”‚         Shopping Progress                   â”‚â”‚ è²·ã„ç‰©ãƒªã‚¹ãƒˆâ”‚
â”‚ [ğŸ›’]â”‚ â”‚ [ç¢ºèªæ¸ˆã¿: 6/12] [äºˆç®—: Â¥1,250/Â¥2,000]     â”‚â”‚       â”‚
â”‚ [ğŸ“ˆ]â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ âœ“ãƒˆãƒãƒˆ â”‚
â”‚     â”‚                                                â”‚ â—‹ç‰›ä¹³  â”‚
â”‚     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â—‹åµ    â”‚
â”‚     â”‚ â”‚  Quick Check    â”‚ â”‚    Categories           â”‚â”‚ â—‹é¶è‚‰  â”‚
â”‚     â”‚ â”‚                 â”‚ â”‚                         â”‚â”‚ â—‹ç‰ã­ã â”‚
â”‚     â”‚ â”‚ ã‚ˆãç¢ºèªã™ã‚‹é£Ÿæ  â”‚ â”‚ [é‡èœ:3] [è‚‰é­š:2] [ä¹³:1] â”‚â”‚       â”‚
â”‚     â”‚ â”‚ [ãƒˆãƒãƒˆğŸŸ¡] [ç‰›ä¹³ğŸ”´]â”‚ â”‚ [èª¿å‘³æ–™:1] [ãã®ä»–:2]   â”‚â”‚ åˆè¨ˆäºˆç®—â”‚
â”‚     â”‚ â”‚ [åµğŸŸ¢] [é¶è‚‰ğŸ”´]  â”‚ â”‚                         â”‚â”‚ Â¥1,250 â”‚
â”‚     â”‚ â”‚                 â”‚ â”‚ [é‡èœ] Selected:        â”‚â”‚       â”‚
â”‚     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                         â”‚â”‚ Memo   â”‚
â”‚     â”‚                     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”â”‚â”‚ ãƒ»ç‰¹å£²  â”‚
â”‚     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ãƒˆãƒãƒˆ â”‚ â”‚ã«ã‚“ã˜ã‚“â”‚ â”‚ç‰ã­ã â”‚â”‚  ã‚»ãƒ¼ãƒ« â”‚
â”‚     â”‚ â”‚  è³¼å…¥å±¥æ­´       â”‚ â”‚ â”‚ğŸŸ¡ä¸è¶³â”‚ â”‚ğŸŸ¢ååˆ† â”‚ â”‚ğŸŸ¢ååˆ†â”‚â”‚       â”‚
â”‚     â”‚ â”‚                 â”‚ â”‚ â”‚æ®‹2æ—¥ â”‚ â”‚æ®‹1é€±  â”‚ â”‚æ®‹2é€± â”‚â”‚ Recent â”‚
â”‚     â”‚ â”‚ å‰å›: Â¥1,800    â”‚ â”‚ â”‚[âœ“]  â”‚ â”‚[â—‹]   â”‚ â”‚[â—‹] â”‚â”‚ ãƒ»ãƒˆãƒãƒˆâ”‚
â”‚     â”‚ â”‚ å¹³å‡: Â¥2,100    â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚  ç¢ºèª  â”‚
â”‚     â”‚ â”‚ ä»Šæœˆ: Â¥8,400    â”‚ â”‚                         â”‚â”‚  5åˆ†å‰ â”‚
â”‚     â”‚ â”‚                 â”‚ â”‚ [è‚‰ãƒ»é­š] [ä¹³è£½å“] [èª¿å‘³æ–™]â”‚â”‚       â”‚
â”‚     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3ã‚«ãƒ©ãƒ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

#### å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼: ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ãƒ„ãƒ¼ãƒ«

```jsx
const ShoppingToolsPanel = ({ session, stats, history }) => (
  <aside className="w-80 space-y-6 border-r border-gray-200 bg-white p-6">
    {/* ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ± */}
    <div className="rounded-lg bg-blue-50 p-4">
      <h2 className="mb-3 font-semibold text-blue-900">è²·ã„ç‰©ã‚»ãƒƒã‚·ãƒ§ãƒ³</h2>
      <div className="space-y-2 text-sm">
        <div className="flex justify-between text-blue-800">
          <span>é–‹å§‹æ™‚åˆ»</span>
          <span>{format(session.startedAt, 'HH:mm')}</span>
        </div>
        <div className="flex justify-between text-blue-800">
          <span>çµŒéæ™‚é–“</span>
          <span>{formatDuration(session.duration)}</span>
        </div>
        <div className="flex justify-between text-blue-800">
          <span>å ´æ‰€</span>
          <span>{session.location?.placeName || 'æœªè¨­å®š'}</span>
        </div>
      </div>
    </div>

    {/* ã‚¯ã‚¤ãƒƒã‚¯ãƒã‚§ãƒƒã‚¯ */}
    <div className="rounded-lg border bg-white p-4">
      <h3 className="mb-3 font-semibold">ã‚ˆãç¢ºèªã™ã‚‹é£Ÿæ</h3>
      <div className="grid grid-cols-2 gap-2">
        {frequentlyCheckedItems.map((item) => (
          <button
            key={item.id}
            onClick={() => onQuickCheck(item.id)}
            className={`rounded-lg border-2 p-3 transition-all ${
              item.isChecked
                ? 'border-green-500 bg-green-50'
                : 'border-gray-200 hover:border-gray-300'
            }`}
          >
            <div className="text-center">
              <div
                className={`mx-auto mb-1 h-4 w-4 rounded-full ${
                  item.stockStatus === 'OUT_OF_STOCK'
                    ? 'bg-red-500'
                    : item.stockStatus === 'LOW_STOCK'
                      ? 'bg-yellow-500'
                      : 'bg-green-500'
                }`}
              />
              <div className="text-xs font-medium">{item.name}</div>
              {item.isChecked && <Check className="mx-auto mt-1 h-4 w-4 text-green-600" />}
            </div>
          </button>
        ))}
      </div>
    </div>

    {/* è³¼å…¥çµ±è¨ˆ */}
    <div className="rounded-lg border bg-white p-4">
      <h3 className="mb-3 font-semibold">è³¼å…¥å±¥æ­´</h3>
      <div className="space-y-3">
        <div className="text-sm">
          <div className="mb-1 flex justify-between">
            <span className="text-gray-600">å‰å›ã®è²·ã„ç‰©</span>
            <span className="font-medium">Â¥{history.lastAmount}</span>
          </div>
          <div className="mb-1 flex justify-between">
            <span className="text-gray-600">å¹³å‡äºˆç®—</span>
            <span className="font-medium">Â¥{history.averageAmount}</span>
          </div>
          <div className="flex justify-between">
            <span className="text-gray-600">ä»Šæœˆã®åˆè¨ˆ</span>
            <span className="font-medium">Â¥{history.monthlyTotal}</span>
          </div>
        </div>

        <div className="border-t pt-3">
          <h4 className="mb-2 text-sm font-medium text-gray-700">ã‚ˆãè²·ã†é£Ÿæ</h4>
          <div className="space-y-1">
            {history.frequentItems.slice(0, 5).map((item) => (
              <div key={item.name} className="flex justify-between text-xs">
                <span>{item.name}</span>
                <span className="text-gray-500">{item.frequency}å›</span>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>

    {/* äºˆç®—ãƒˆãƒ©ãƒƒã‚«ãƒ¼ */}
    <div className="rounded-lg border bg-white p-4">
      <h3 className="mb-3 font-semibold">äºˆç®—ç®¡ç†</h3>
      <div className="space-y-3">
        <div>
          <div className="mb-1 flex justify-between text-sm">
            <span>ä½¿ç”¨äºˆç®—</span>
            <span>
              Â¥{stats.currentSpend} / Â¥{stats.budget}
            </span>
          </div>
          <div className="h-2 w-full rounded-full bg-gray-200">
            <div
              className={`h-2 rounded-full ${
                stats.currentSpend > stats.budget
                  ? 'bg-red-500'
                  : stats.currentSpend > stats.budget * 0.8
                    ? 'bg-yellow-500'
                    : 'bg-green-500'
              }`}
              style={{
                width: `${Math.min(100, (stats.currentSpend / stats.budget) * 100)}%`,
              }}
            />
          </div>
        </div>

        <div className="grid grid-cols-2 gap-3">
          <button
            onClick={() => setBudget(prompt('äºˆç®—ã‚’å…¥åŠ›', stats.budget))}
            className="rounded-lg border border-gray-300 px-3 py-2 text-xs hover:bg-gray-50"
          >
            äºˆç®—å¤‰æ›´
          </button>
          <button
            onClick={() => resetSpending()}
            className="rounded-lg border border-gray-300 px-3 py-2 text-xs hover:bg-gray-50"
          >
            ãƒªã‚»ãƒƒãƒˆ
          </button>
        </div>
      </div>
    </div>
  </aside>
)
```

#### ä¸­å¤®ã‚¨ãƒªã‚¢: ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¥é£Ÿæè¡¨ç¤º

```jsx
const ShoppingMainContent = ({
  categories,
  selectedCategory,
  onCategorySelect,
  ingredients,
  onIngredientCheck,
}) => (
  <main className="flex-1 p-6">
    {/* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ */}
    <div className="mb-6 rounded-lg border bg-white p-6">
      <div className="mb-4 flex items-center justify-between">
        <h1 className="text-2xl font-bold text-gray-900">è²·ã„ç‰©ãƒªã‚¹ãƒˆç¢ºèª</h1>
        <div className="text-sm text-gray-600">{format(new Date(), 'yyyyå¹´MMæœˆddæ—¥ HH:mm')}</div>
      </div>

      {/* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ */}
      <div className="space-y-2">
        <div className="flex justify-between text-sm">
          <span>ç¢ºèªæ¸ˆã¿é£Ÿæ</span>
          <span>
            {checkedItems.length}/{totalItems}ä»¶
          </span>
        </div>
        <div className="h-3 w-full rounded-full bg-gray-200">
          <div
            className="h-3 rounded-full bg-blue-500 transition-all duration-300"
            style={{ width: `${(checkedItems.length / totalItems) * 100}%` }}
          />
        </div>
      </div>

      {/* çµ±è¨ˆã‚µãƒãƒªãƒ¼ */}
      <div className="mt-4 grid grid-cols-4 gap-4">
        <div className="rounded-lg bg-red-50 p-3 text-center">
          <div className="text-lg font-semibold text-red-600">{outOfStockCount}</div>
          <div className="text-sm text-red-700">åœ¨åº«åˆ‡ã‚Œ</div>
        </div>
        <div className="rounded-lg bg-yellow-50 p-3 text-center">
          <div className="text-lg font-semibold text-yellow-600">{lowStockCount}</div>
          <div className="text-sm text-yellow-700">åœ¨åº«ä¸è¶³</div>
        </div>
        <div className="rounded-lg bg-green-50 p-3 text-center">
          <div className="text-lg font-semibold text-green-600">{inStockCount}</div>
          <div className="text-sm text-green-700">åœ¨åº«ååˆ†</div>
        </div>
        <div className="rounded-lg bg-blue-50 p-3 text-center">
          <div className="text-lg font-semibold text-blue-600">{expiringSoonCount}</div>
          <div className="text-sm text-blue-700">æœŸé™é–“è¿‘</div>
        </div>
      </div>
    </div>

    {/* ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚¿ãƒ– */}
    <div className="mb-6 flex space-x-1 rounded-lg bg-gray-100 p-1">
      {categories.map((category) => (
        <button
          key={category.id}
          onClick={() => onCategorySelect(category.id)}
          className={`flex flex-1 items-center justify-center rounded-lg px-4 py-3 text-sm font-medium transition-all ${
            selectedCategory === category.id
              ? 'bg-white text-blue-600 shadow-sm'
              : 'text-gray-600 hover:text-gray-900'
          }`}
        >
          <span className="mr-2">{category.icon}</span>
          {category.name}
          <span className="ml-2 rounded-full bg-gray-200 px-2 py-1 text-xs">
            {category.itemCount}
          </span>
        </button>
      ))}
    </div>

    {/* é£Ÿæã‚°ãƒªãƒƒãƒ‰ */}
    <div className="grid grid-cols-3 gap-4">
      {ingredients.map((ingredient) => (
        <ShoppingIngredientCard
          key={ingredient.id}
          ingredient={ingredient}
          isChecked={checkedItems.includes(ingredient.id)}
          onCheck={() => onIngredientCheck(ingredient.id)}
          onAddToCart={() => onAddToCart(ingredient.id)}
        />
      ))}
    </div>

    {/* ä¸€æ‹¬æ“ä½œ */}
    <div className="mt-6 flex justify-center space-x-3">
      <button
        onClick={() => checkAllInCategory(selectedCategory)}
        className="rounded-lg bg-blue-500 px-6 py-3 text-white transition-colors hover:bg-blue-600"
      >
        ã“ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚’ã™ã¹ã¦ç¢ºèª
      </button>
      <button
        onClick={() => uncheckAllInCategory(selectedCategory)}
        className="rounded-lg border border-gray-300 px-6 py-3 text-gray-700 transition-colors hover:bg-gray-50"
      >
        ã“ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼ã®ç¢ºèªã‚’è§£é™¤
      </button>
    </div>
  </main>
)
```

#### å³ãƒ‘ãƒãƒ«: ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ã‚«ãƒ¼ãƒˆã¨ãƒ¡ãƒ¢

```jsx
const ShoppingCartPanel = ({ cartItems, notes, onAddNote, onRemoveItem, onUpdateQuantity }) => (
  <aside className="w-80 border-l border-gray-200 bg-white p-6">
    <div className="space-y-6">
      {/* ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ã‚«ãƒ¼ãƒˆ */}
      <div>
        <h2 className="mb-4 text-lg font-semibold">è²·ã„ç‰©ãƒªã‚¹ãƒˆ</h2>

        {cartItems.length === 0 ? (
          <div className="py-8 text-center text-gray-500">
            <ShoppingCart className="mx-auto mb-2 h-12 w-12 text-gray-300" />
            <p>è²·ã„ç‰©ãƒªã‚¹ãƒˆã¯ç©ºã§ã™</p>
          </div>
        ) : (
          <div className="space-y-3">
            {cartItems.map((item) => (
              <div
                key={item.id}
                className={`rounded-lg border-2 p-3 transition-all ${
                  item.isChecked ? 'border-green-500 bg-green-50' : 'border-gray-200'
                }`}
              >
                <div className="flex items-center justify-between">
                  <div className="flex items-center space-x-3">
                    <button
                      onClick={() => onToggleCheck(item.id)}
                      className={`flex h-6 w-6 items-center justify-center rounded-full border-2 ${
                        item.isChecked ? 'border-green-500 bg-green-500' : 'border-gray-300'
                      }`}
                    >
                      {item.isChecked && <Check className="h-4 w-4 text-white" />}
                    </button>

                    <div>
                      <div
                        className={`font-medium ${
                          item.isChecked ? 'text-green-800 line-through' : 'text-gray-900'
                        }`}
                      >
                        {item.name}
                      </div>
                      <div className="text-xs text-gray-500">
                        {item.category} â€¢ {item.stockStatus}
                      </div>
                    </div>
                  </div>

                  <button
                    onClick={() => onRemoveItem(item.id)}
                    className="p-1 text-gray-400 hover:text-red-600"
                  >
                    <X className="h-4 w-4" />
                  </button>
                </div>

                {/* æ•°é‡èª¿æ•´ */}
                <div className="mt-2 flex items-center space-x-2">
                  <span className="text-xs text-gray-600">å¿…è¦æ•°é‡:</span>
                  <div className="flex items-center space-x-1">
                    <button
                      onClick={() => onUpdateQuantity(item.id, item.quantity - 1)}
                      className="flex h-6 w-6 items-center justify-center rounded border border-gray-300 text-gray-600 hover:bg-gray-50"
                    >
                      <Minus className="h-3 w-3" />
                    </button>
                    <span className="w-8 text-center text-sm">{item.quantity}</span>
                    <button
                      onClick={() => onUpdateQuantity(item.id, item.quantity + 1)}
                      className="flex h-6 w-6 items-center justify-center rounded border border-gray-300 text-gray-600 hover:bg-gray-50"
                    >
                      <Plus className="h-3 w-3" />
                    </button>
                  </div>
                  <span className="text-xs text-gray-500">{item.unit}</span>
                </div>
              </div>
            ))}
          </div>
        )}

        {/* ã‚«ãƒ¼ãƒˆæ“ä½œ */}
        <div className="mt-4 space-y-2">
          <button
            onClick={() => exportShoppingList()}
            className="w-full rounded-lg border border-gray-300 px-4 py-2 text-sm hover:bg-gray-50"
          >
            <Download className="mr-2 inline h-4 w-4" />
            ãƒªã‚¹ãƒˆã‚’å‡ºåŠ›
          </button>
          <button
            onClick={() => shareShoppingList()}
            className="w-full rounded-lg border border-gray-300 px-4 py-2 text-sm hover:bg-gray-50"
          >
            <Share className="mr-2 inline h-4 w-4" />
            ãƒªã‚¹ãƒˆã‚’å…±æœ‰
          </button>
        </div>
      </div>

      {/* ãƒ¡ãƒ¢æ©Ÿèƒ½ */}
      <div>
        <h3 className="mb-3 font-semibold">è²·ã„ç‰©ãƒ¡ãƒ¢</h3>

        <div className="mb-3 space-y-2">
          {notes.map((note) => (
            <div
              key={note.id}
              className="rounded border border-yellow-200 bg-yellow-50 p-2 text-sm"
            >
              <div className="flex items-start justify-between">
                <span>{note.text}</span>
                <button
                  onClick={() => onDeleteNote(note.id)}
                  className="text-yellow-600 hover:text-yellow-800"
                >
                  <X className="h-3 w-3" />
                </button>
              </div>
              <div className="mt-1 text-xs text-yellow-600">
                {formatDistanceToNow(note.createdAt, { locale: ja })}å‰
              </div>
            </div>
          ))}
        </div>

        <div className="flex space-x-2">
          <input
            type="text"
            placeholder="ãƒ¡ãƒ¢ã‚’è¿½åŠ ..."
            value={newNote}
            onChange={(e) => setNewNote(e.target.value)}
            onKeyPress={(e) => e.key === 'Enter' && handleAddNote()}
            className="flex-1 rounded-lg border border-gray-300 px-3 py-2 text-sm"
          />
          <button
            onClick={handleAddNote}
            className="rounded-lg bg-blue-500 px-3 py-2 text-white hover:bg-blue-600"
          >
            <Plus className="h-4 w-4" />
          </button>
        </div>
      </div>

      {/* æœ€è¿‘ã®æ´»å‹• */}
      <div>
        <h3 className="mb-3 font-semibold">æœ€è¿‘ã®ç¢ºèª</h3>
        <div className="space-y-2">
          {recentChecks.slice(0, 5).map((check) => (
            <div key={check.id} className="flex items-center space-x-2 text-sm">
              <div
                className={`h-2 w-2 rounded-full ${
                  check.action === 'checked' ? 'bg-green-500' : 'bg-gray-300'
                }`}
              />
              <span className="flex-1">{check.ingredientName}</span>
              <span className="text-xs text-gray-500">
                {formatDistanceToNow(check.timestamp, { locale: ja })}å‰
              </span>
            </div>
          ))}
        </div>
      </div>
    </div>
  </aside>
)
```

### æ‹¡å¼µã•ã‚ŒãŸã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ã‚«ãƒ¼ãƒ‰

```jsx
const ShoppingIngredientCard = ({ ingredient, isChecked, onCheck, onAddToCart }) => (
  <div
    className={`rounded-lg border-2 bg-white p-4 transition-all hover:shadow-md ${
      isChecked ? 'border-green-500 bg-green-50' : 'border-gray-200'
    }`}
  >
    {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}
    <div className="mb-3 flex items-center justify-between">
      <div className="flex items-center space-x-2">
        <div
          className={`h-4 w-4 rounded-full ${
            ingredient.stockStatus === 'OUT_OF_STOCK'
              ? 'bg-red-500'
              : ingredient.stockStatus === 'LOW_STOCK'
                ? 'bg-yellow-500'
                : 'bg-green-500'
          }`}
        />
        <span className="font-medium text-gray-900">{ingredient.name}</span>
      </div>

      <button
        onClick={onCheck}
        className={`flex h-6 w-6 items-center justify-center rounded-full border-2 transition-all ${
          isChecked ? 'border-green-500 bg-green-500' : 'border-gray-300 hover:border-green-400'
        }`}
      >
        {isChecked && <Check className="h-4 w-4 text-white" />}
      </button>
    </div>

    {/* æƒ…å ± */}
    <div className="space-y-2 text-sm">
      <div className="flex justify-between">
        <span className="text-gray-600">ç¾åœ¨ã®åœ¨åº«</span>
        <span
          className={`font-medium ${
            ingredient.stockStatus === 'OUT_OF_STOCK'
              ? 'text-red-600'
              : ingredient.stockStatus === 'LOW_STOCK'
                ? 'text-yellow-600'
                : 'text-green-600'
          }`}
        >
          {ingredient.currentQuantity.amount} {ingredient.currentQuantity.unit}
        </span>
      </div>

      {ingredient.daysUntilExpiry !== undefined && (
        <div className="flex justify-between">
          <span className="text-gray-600">æœŸé™</span>
          <span
            className={`font-medium ${
              ingredient.daysUntilExpiry <= 0
                ? 'text-red-600'
                : ingredient.daysUntilExpiry <= 3
                  ? 'text-yellow-600'
                  : 'text-green-600'
            }`}
          >
            {ingredient.daysUntilExpiry <= 0
              ? 'æœŸé™åˆ‡ã‚Œ'
              : ingredient.daysUntilExpiry === 1
                ? 'æ˜æ—¥'
                : `æ®‹ã‚Š${ingredient.daysUntilExpiry}æ—¥`}
          </span>
        </div>
      )}

      {ingredient.threshold && (
        <div className="flex justify-between">
          <span className="text-gray-600">æ¨å¥¨åœ¨åº«</span>
          <span className="font-medium text-gray-700">
            {ingredient.threshold} {ingredient.currentQuantity.unit}
          </span>
        </div>
      )}
    </div>

    {/* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ */}
    <div className="mt-3 border-t border-gray-200 pt-3">
      <div className="flex space-x-2">
        <button
          onClick={() => onAddToCart(ingredient.id)}
          className={`flex-1 rounded-lg px-3 py-2 text-sm transition-colors ${
            ingredient.stockStatus === 'OUT_OF_STOCK'
              ? 'bg-red-500 text-white hover:bg-red-600'
              : ingredient.stockStatus === 'LOW_STOCK'
                ? 'bg-yellow-500 text-white hover:bg-yellow-600'
                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
          }`}
        >
          <ShoppingCart className="mr-1 inline h-4 w-4" />
          ã‚«ãƒ¼ãƒˆã«è¿½åŠ 
        </button>
      </div>
    </div>

    {/* ä¾¡æ ¼æƒ…å ±ï¼ˆã‚ã‚Œã°ï¼‰ */}
    {ingredient.averagePrice && (
      <div className="mt-2 text-center text-xs text-gray-500">
        å¹³å‡ä¾¡æ ¼: Â¥{ingredient.averagePrice}
      </div>
    )}
  </div>
)
```

### ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ

```typescript
const shoppingModeShortcuts = {
  // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
  Tab: () => focusNextIngredient(),
  'Shift+Tab': () => focusPreviousIngredient(),

  // ãƒã‚§ãƒƒã‚¯æ“ä½œ
  Space: () => toggleCurrentIngredient(),
  Enter: () => addCurrentToCart(),

  // ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ‡æ›¿
  '1': () => selectCategory('vegetable'),
  '2': () => selectCategory('meat-fish'),
  '3': () => selectCategory('dairy'),
  '4': () => selectCategory('seasoning'),

  // ä¸€æ‹¬æ“ä½œ
  'Ctrl+A': () => checkAllInCategory(),
  'Ctrl+Shift+A': () => uncheckAllInCategory(),

  // ã‚»ãƒƒã‚·ãƒ§ãƒ³æ“ä½œ
  S: () => saveSession(),
  E: () => endSession(),
  N: () => addNote(),

  // è¡¨ç¤ºåˆ‡æ›¿
  V: () => toggleView(),
  F: () => toggleFullscreen(),
}
```

### ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ

```jsx
const OfflineShoppingMode = () => {
  const [isOnline, setIsOnline] = useState(navigator.onLine)
  const [pendingActions, setPendingActions] = useState([])

  useEffect(() => {
    const handleOnline = () => {
      setIsOnline(true)
      syncPendingActions()
    }

    const handleOffline = () => {
      setIsOnline(false)
    }

    window.addEventListener('online', handleOnline)
    window.addEventListener('offline', handleOffline)

    return () => {
      window.removeEventListener('online', handleOnline)
      window.removeEventListener('offline', handleOffline)
    }
  }, [])

  const handleIngredientCheck = (ingredientId, status) => {
    const action = {
      type: 'INGREDIENT_CHECK',
      ingredientId,
      status,
      timestamp: new Date(),
      id: generateLocalId(),
    }

    if (isOnline) {
      syncAction(action)
    } else {
      setPendingActions((prev) => [...prev, action])
      // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
      localStorage.setItem('pending-shopping-actions', JSON.stringify([...pendingActions, action]))
    }
  }

  return (
    <div className="relative">
      {!isOnline && (
        <div className="mb-4 border-l-4 border-yellow-500 bg-yellow-100 p-4">
          <div className="flex">
            <Wifi className="mr-2 h-5 w-5 text-yellow-500" />
            <div>
              <p className="text-yellow-700">ã‚ªãƒ•ãƒ©ã‚¤ãƒ³çŠ¶æ…‹ã§ã™ã€‚ç¢ºèªçŠ¶æ³ã¯è‡ªå‹•ã§åŒæœŸã•ã‚Œã¾ã™ã€‚</p>
              {pendingActions.length > 0 && (
                <p className="mt-1 text-sm text-yellow-600">
                  {pendingActions.length}ä»¶ã®å¤‰æ›´ãŒåŒæœŸå¾…ã¡ã§ã™ã€‚
                </p>
              )}
            </div>
          </div>
        </div>
      )}

      {/* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
    </div>
  )
}
```

### ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£

#### è¦–è¦šçš„é…æ…®

- **é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ**: åº—å†…ç…§æ˜ä¸‹ã§ã®è¦–èªæ€§
- **å¤§ããªãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º**: æœ€å°16px
- **æ˜ç¢ºãªè‰²åˆ†ã‘**: è‰²è¦šç•°å¸¸ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®é…æ…®

#### æ“ä½œæ€§

- **éŸ³å£°èª­ã¿ä¸Šã’**: ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ
- **æŒ¯å‹•ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**: æ“ä½œç¢ºèª
- **å¤§ããªã‚¿ãƒƒãƒã‚¨ãƒªã‚¢**: èª¤æ“ä½œé˜²æ­¢

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

#### ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å•é¡Œ

```typescript
const OfflineIndicator = () => (
  <div className="bg-yellow-100 border-l-4 border-yellow-500 p-4">
    <div className="flex">
      <div className="ml-3">
        <p className="text-sm text-yellow-700">
          ã‚ªãƒ•ãƒ©ã‚¤ãƒ³çŠ¶æ…‹ã§ã™ã€‚ç¢ºèªçŠ¶æ³ã¯è‡ªå‹•ã§åŒæœŸã•ã‚Œã¾ã™ã€‚
        </p>
      </div>
    </div>
  </div>
)
```

#### ã‚»ãƒƒã‚·ãƒ§ãƒ³æœŸé™åˆ‡ã‚Œ

```typescript
const SessionExpiredModal = ({ onRestart }) => (
  <Modal>
    <div className="text-center p-6">
      <h3 className="text-lg font-semibold mb-4">
        ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒæœŸé™åˆ‡ã‚Œã§ã™
      </h3>
      <p className="text-gray-600 mb-6">
        æ–°ã—ã„è²·ã„ç‰©ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’é–‹å§‹ã—ã¾ã™ã‹ï¼Ÿ
      </p>
      <button onClick={onRestart} className="bg-primary text-white px-6 py-2 rounded">
        æ–°ã—ã„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’é–‹å§‹
      </button>
    </div>
  </Modal>
)
```

## æŠ€è¡“å®Ÿè£…

### Componentæ§‹é€ 

```
ShoppingModePage
â”œâ”€â”€ ShoppingHeader
â”‚   â”œâ”€â”€ ModeIndicator
â”‚   â”œâ”€â”€ ElapsedTimer
â”‚   â””â”€â”€ ExitButton
â”œâ”€â”€ QuickAccessSection
â”‚   â””â”€â”€ QuickAccessItem
â”œâ”€â”€ CategoryTabs
â”‚   â””â”€â”€ CategoryTab
â”œâ”€â”€ IngredientsShoppingList
â”‚   â””â”€â”€ ShoppingIngredientCard
â”‚       â”œâ”€â”€ StatusIndicator
â”‚       â”œâ”€â”€ IngredientInfo
â”‚       â””â”€â”€ CheckButton
â”œâ”€â”€ SessionSummary
â””â”€â”€ OfflineIndicator (conditional)
```

### çŠ¶æ…‹ç®¡ç†

```typescript
export const useShoppingMode = () => {
  const [session, setSession] = useState<ShoppingSession | null>(null)
  const [isOnline, setIsOnline] = useState(navigator.onLine)

  const startSession = useMutation({
    mutationFn: startShoppingSession,
    onSuccess: (newSession) => {
      setSession(newSession)
      // ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹ã®åˆ†æã‚¤ãƒ™ãƒ³ãƒˆ
      analytics.track('shopping_session_started', {
        sessionId: newSession.id,
        deviceType: 'mobile',
      })
    },
  })

  const checkIngredient = useMutation({
    mutationFn: ({ ingredientId, status }) =>
      checkIngredientInSession(session.id, ingredientId, status),
    onSuccess: (checkedItem) => {
      setSession((prev) => ({
        ...prev,
        checkedItems: [...prev.checkedItems, checkedItem],
      }))
    },
  })

  return {
    session,
    isOnline,
    startSession: startSession.mutate,
    checkIngredient: checkIngredient.mutate,
    endSession: () => setSession(null),
  }
}
```

## ä»Šå¾Œã®æ‹¡å¼µ

### ãƒ•ã‚§ãƒ¼ã‚º2æ©Ÿèƒ½

- **éŸ³å£°å…¥åŠ›**: ã€Œãƒˆãƒãƒˆã‚’ç¢ºèªã€ã®éŸ³å£°ã‚³ãƒãƒ³ãƒ‰
- **ä½ç½®æƒ…å ±é€£æº**: åº—èˆ—ã«å¿œã˜ãŸå•†å“é…ç½®ã‚¬ã‚¤ãƒ‰
- **ä¾¡æ ¼æ¯”è¼ƒ**: è¤‡æ•°åº—èˆ—ã§ã®ä¾¡æ ¼æƒ…å ±è¡¨ç¤º

### ãƒ•ã‚§ãƒ¼ã‚º3æ©Ÿèƒ½

- **ARæ©Ÿèƒ½**: ã‚«ãƒ¡ãƒ©ã§å•†å“ã‚’èªè­˜ã—ã¦è‡ªå‹•ãƒã‚§ãƒƒã‚¯
- **ãƒ¬ã‚·ãƒ¼ãƒˆé€£æº**: è³¼å…¥ãƒ¬ã‚·ãƒ¼ãƒˆã®è‡ªå‹•èª­ã¿å–ã‚Š
- **å…±æœ‰ãƒªã‚¹ãƒˆ**: å®¶æ—ã¨ã®è²·ã„ç‰©ãƒªã‚¹ãƒˆå…±æœ‰
